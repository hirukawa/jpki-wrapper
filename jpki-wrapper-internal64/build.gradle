apply plugin: 'java-library'

archivesBaseName = 'jpki-wrapper-internal64'

tasks.withType(JavaCompile) {
    sourceCompatibility = 1.8
    targetCompatibility = 1.8
	options.compilerArgs << '-Xlint:all'
}

def defaultEncoding = 'UTF-8'
tasks.withType(AbstractCompile).each { it.options.encoding = defaultEncoding }
tasks.withType(GroovyCompile).each { it.groovyOptions.encoding = defaultEncoding }

repositories {
	mavenCentral()
}

dependencies {
	implementation fileTree(dir: 'lib',
			includes: ['**/*.jar'],
			excludes: ['**/*-sources.jar', '**/*-javadoc.jar'])

	implementation 'org.apache.pdfbox:pdfbox:2.0.27'
	implementation 'org.bouncycastle:bcpkix-jdk18on:1.72'
}

jar {
	exclude '**/JpkiWrapper.class'
}

rootProject.tasks.jar.dependsOn jar

defaultTasks 'clean', 'build'
